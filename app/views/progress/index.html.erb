<div class="card">
  <h2 style="margin-bottom: 20px; color: #667eea;">Your Learning Progress</h2>
  
  <div class="stats-bar">
    <div class="stat-item">
      <div class="stat-value"><%= @user.total_points %></div>
      <div class="stat-label">Total Points</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">Level <%= @user.current_level %></div>
      <div class="stat-label">Current Level</div>
    </div>
    <div class="stat-item">
      <div class="stat-value"><%= @user.completed_lessons_count %></div>
      <div class="stat-label">Lessons Completed</div>
    </div>
    <div class="stat-item">
      <div class="stat-value"><%= @user.progress_percentage %>%</div>
      <div class="stat-label">Overall Progress</div>
    </div>
  </div>
  
  <div class="progress-bar" style="margin: 30px 0;">
    <div class="progress-fill" style="width: <%= @user.progress_percentage %>%">
      <%= @user.progress_percentage %>%
    </div>
  </div>
  
  <h3 style="margin: 30px 0 20px 0; color: #667eea;">Lesson Details</h3>
  
  <div style="overflow-x: auto;">
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr style="background: #f7fafc;">
          <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Lesson</th>
          <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Status</th>
          <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Points</th>
          <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Attempts</th>
          <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0;">Completed</th>
        </tr>
      </thead>
      <tbody>
        <% @progresses.each do |progress| %>
          <tr style="border-bottom: 1px solid #e2e8f0;">
            <td style="padding: 12px;">
              <%= link_to progress.lesson.title, lesson_path(progress.lesson), style: "color: #667eea; text-decoration: none;" %>
            </td>
            <td style="padding: 12px;">
              <% if progress.completed? %>
                <span style="color: #48bb78; font-weight: 600;">âœ“ Completed</span>
              <% else %>
                <span style="color: #999;">In Progress</span>
              <% end %>
            </td>
            <td style="padding: 12px;"><%= progress.points_earned %></td>
            <td style="padding: 12px;"><%= progress.attempts %></td>
            <td style="padding: 12px;">
              <% if progress.completed_at %>
                <%= progress.completed_at.strftime("%Y-%m-%d %H:%M") %>
              <% else %>
                -
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

